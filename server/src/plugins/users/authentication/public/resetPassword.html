<!DOCTYPE html>
<html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<body>

<form>
  <div id="hideForm">
    New Password (6 to 64 characters long):<br>
    <input id="newPassword" type="password" name="newPassword">
    <input id="changePassword" type="button" value="Submit">
  </div>
  <p id="result"></p>
</form>

</body>

<script>
  var urlParts = window.location.pathname.split("/");
  var resetCode = urlParts[urlParts.length - 1];
  var host = window.location.protocol + "//" + window.location.hostname;
  if (window.location.port) {
    host = host + ":" + window.location.port;
  }
  $( "#changePassword" ).click(function() {
    var passwordOptions = {
      token: resetCode,
      password: $('#newPassword').val()
    };
    $.post(host + "/api/v1/auth/verify_reset_password_token", passwordOptions, function(data) {
      console.log("password updated successfully");
      if (data.success) {
        $("#hideForm").hide();
        $( "#result" ).html("<b>Password successfully updated!</b>");
      } else {
        $( "#result" ).html("<b>Error occurred while updating password</b>");
      }
    });
  });
</script>
</html>